<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>جدولي - مدير المهام اليومي</title>
    <meta name="description" content="مدير مهام يومي ذكي مع تتبع التقدم والإحصائيات">
    <meta name="keywords" content="جدول يومي, مدير مهام, تتبع التقدم, إنتاجية">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>📅</text></svg>">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            color: #ffffff;
            margin: 0;
            padding: 15px;
            min-height: 100vh;
        }

        .container {
            max-width: 900px;
            margin: 15px auto;
            background: rgba(25, 25, 35, 0.95);
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 215, 0, 0.3);
            backdrop-filter: blur(10px);
        }

        header {
            text-align: center;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 2px solid rgba(255, 215, 0, 0.3);
        }

        h1 {
            color: #ffd700;
            text-shadow: 0 0 15px rgba(255, 215, 0, 0.4);
            margin-bottom: 10px;
            font-size: 24px;
        }

        .subtitle {
            color: #a0a0c0;
            font-size: 16px;
        }

        .commitment-box {
            background: linear-gradient(135deg, #b8860b, #ffd700);
            color: #000;
            padding: 25px;
            border-radius: 15px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 8px 25px rgba(184, 134, 11, 0.4);
            border: 3px solid #fff;
            position: relative;
            overflow: hidden;
        }

        .commitment-box::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, transparent 70%);
            transform: rotate(30deg);
        }

        .commitment-title {
            font-size: 26px;
            font-weight: bold;
            margin-bottom: 15px;
            position: relative;
        }

        .commitment-percentage {
            font-size: 42px;
            font-weight: bold;
            margin: 15px 0;
            position: relative;
        }

        .commitment-table {
            width: 100%;
            border-collapse: collapse;
            margin: 25px 0;
            background: rgba(255,255,255,0.08);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .commitment-table th,
        .commitment-table td {
            padding: 14px;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .commitment-table th {
            background: rgba(184, 134, 11, 0.9);
            color: #000;
            font-weight: bold;
            font-size: 16px;
        }

        .commitment-table tr:nth-child(even) {
            background: rgba(255,255,255,0.05);
        }

        .commitment-table tr:hover {
            background: rgba(255,215,0,0.1);
        }

        .evaluation {
            margin: 30px 0;
            padding: 20px;
            background: rgba(60, 60, 80, 0.7);
            border-radius: 15px;
            border-left: 5px solid #ffd700;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .evaluation h3 {
            color: #ffd700;
            margin-bottom: 15px;
            font-size: 20px;
        }

        .evaluation-item {
            margin: 12px 0;
            padding: 10px;
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
        }

        .activities {
            margin-top: 35px;
        }

        .section-title {
            color: #ffd700;
            border-bottom: 2px solid rgba(255, 215, 0, 0.3);
            padding-bottom: 12px;
            margin-bottom: 20px;
            font-size: 22px;
        }

        .activity {
            padding: 18px;
            margin: 15px 0;
            border-radius: 12px;
            font-weight: bold;
            display: flex;
            align-items: center;
            transition: all 0.3s ease;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
            position: relative;
            overflow: hidden;
        }

        .activity::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: #ffd700;
        }

        .activity:hover {
            transform: translateX(8px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }

        .activity.lecture {
            background: linear-gradient(135deg, #b8860b, #daa520);
            color: #000;
        }

        .activity.break {
            background: linear-gradient(135deg, #2e7d32, #4caf50);
        }

        .activity.summary {
            background: linear-gradient(135deg, #c62828, #f44336);
        }

        .activity.memorization {
            background: linear-gradient(135deg, #ef6c00, #ff9800);
        }

        .activity.lunch {
            background: linear-gradient(135deg, #616161, #9e9e9e);
            text-align: center;
        }

        .time {
            display: inline-block;
            width: 140px;
            font-weight: bold;
            font-size: 17px;
            background: rgba(0,0,0,0.2);
            padding: 8px 12px;
            border-radius: 8px;
            margin-left: 15px;
        }

        .checkbox {
            width: 30px;
            height: 30px;
            margin-right: 15px;
            background: rgba(255,255,255,0.2);
            border: 3px solid #ffd700;
            border-radius: 8px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 20px;
            color: #ffd700;
            transition: all 0.2s ease;
            flex-shrink: 0;
        }

        .checkbox:hover {
            transform: scale(1.1);
            background: rgba(255,255,255,0.3);
        }

        .checkbox.checked {
            background: rgba(46, 125, 50, 0.8);
            border-color: #4caf50;
            animation: pulse 0.5s;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .check-mark {
            display: none;
        }

        .checkbox.checked .check-mark {
            display: block;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.5); }
            to { opacity: 1; transform: scale(1); }
        }

        .empty-mark {
            display: block;
        }

        .checkbox.checked .empty-mark {
            display: none;
        }

        .progress-bar-container {
            width: 100%;
            height: 25px;
            background: rgba(0,0,0,0.3);
            border-radius: 12px;
            margin: 15px 0;
            overflow: hidden;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.3);
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #b8860b, #ffd700);
            border-radius: 12px;
            transition: width 1s ease;
            position: relative;
            overflow: hidden;
        }

        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shine 2s infinite;
        }

        @keyframes shine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .footer {
            text-align: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid rgba(255,255,255,0.1);
            color: #a0a0c0;
            font-size: 14px;
        }

        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #4caf50;
            margin-left: 8px;
            animation: pulseStatus 2s infinite;
        }

        @keyframes pulseStatus {
            0% { opacity: 0.5; }
            50% { opacity: 1; }
            100% { opacity: 0.5; }
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
                margin: 10px;
            }
            
            .activity {
                flex-direction: column;
                text-align: center;
            }
            
            .time {
                width: 100%;
                margin: 10px 0;
            }
            
            .commitment-percentage {
                font-size: 32px;
            }
            
            h1 {
                font-size: 20px;
            }
        }

        @media (max-width: 480px) {
            .commitment-table {
                font-size: 14px;
            }
            
            .commitment-table th,
            .commitment-table td {
                padding: 10px 5px;
            }
            
            .activity {
                padding: 15px 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>📅 جدولي - مدير المهام اليومي</h1>
            <div class="subtitle" id="current-date-time">جارٍ التحميل...</div>
        </header>

        <!-- مربع الالتزام الذهبي -->
        <div class="commitment-box">
            <div class="commitment-title">🎯 مستوى الالتزام اليومي</div>
            <div class="commitment-percentage" id="commitment-percentage">0%</div>
            <div class="progress-bar-container">
                <div class="progress-bar" id="progress-bar" style="width: 0%"></div>
            </div>
            <div class="subtitle">تقدمك اليوم نحو الأهداف</div>
        </div>

        <!-- جدول الالتزام -->
        <table class="commitment-table">
            <thead>
                <tr>
                    <th>النشاط</th>
                    <th>العدد الإجمالي</th>
                    <th>المكتملة</th>
                    <th>النسبة</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>📚 المحاضرات</td>
                    <td id="total-lectures">7</td>
                    <td id="completed-lectures">0</td>
                    <td id="lectures-percentage">0%</td>
                </tr>
                <tr>
                    <td>📝 الملخصات والمراجعة</td>
                    <td id="total-summaries">2</td>
                    <td id="completed-summaries">0</td>
                    <td id="summaries-percentage">0%</td>
                </tr>
                <tr>
                    <td>📊 الأنشطة الإجمالية</td>
                    <td id="total-activities">11</td>
                    <td id="completed-activities">0</td>
                    <td id="activities-percentage">0%</td>
                </tr>
            </tbody>
        </table>

        <!-- التقييم -->
        <div class="evaluation">
            <h3>🎯 تقييم الأداء اليومي</h3>
            <div class="evaluation-item">
                <span>الالتزام:</span>
                <span id="commitment-rating">ضعيف</span>
            </div>
            <div class="evaluation-item">
                <span>الإنتاجية:</span>
                <span id="productivity-rating">منخفضة</span>
            </div>
            <div class="evaluation-item">
                <span>النتيجة:</span>
                <span id="result-rating">يوم عادي</span>
            </div>
        </div>

        <!-- الأنشطة -->
        <div class="activities">
            <h2 class="section-title">📝 برنامج اليوم</h2>

            <div class="activity lecture">
                <span class="time">6:00 – 7:00 صباحاً</span>
                <span>📚 محاضرة 1</span>
                <span class="checkbox" data-index="0" data-type="lecture">
                    <span class="empty-mark">☐</span>
                    <span class="check-mark">✓</span>
                </span>
            </div>

            <div class="activity lecture">
                <span class="time">7:00 – 8:00 صباحاً</span>
                <span>📚 محاضرة 2</span>
                <span class="checkbox" data-index="1" data-type="lecture">
                    <span class="empty-mark">☐</span>
                    <span class="check-mark">✓</span>
                </span>
            </div>

            <div class="activity break">
                <span class="time">8:00 – 9:00 صباحاً</span>
                <span>🏃‍♂️ استراحة / رياضة / سباحة</span>
                <span class="checkbox" data-index="2" data-type="break">
                    <span class="empty-mark">☐</span>
                    <span class="check-mark">✓</span>
                </span>
            </div>

            <div class="activity lecture">
                <span class="time">9:00 – 10:00 صباحاً</span>
                <span>📚 محاضرة 3</span>
                <span class="checkbox" data-index="3" data-type="lecture">
                    <span class="empty-mark">☐</span>
                    <span class="check-mark">✓</span>
                </span>
            </div>

            <div class="activity lecture">
                <span class="time">10:00 – 11:00 صباحاً</span>
                <span>📚 محاضرة 4</span>
                <span class="checkbox" data-index="4" data-type="lecture">
                    <span class="empty-mark">☐</span>
                    <span class="check-mark">✓</span>
                </span>
            </div>

            <div class="activity summary">
                <span class="time">11:00 – 12:00 ظهراً</span>
                <span>📝 كتابة ملخص سريع للمحاضرات</span>
                <span class="checkbox" data-index="5" data-type="summary">
                    <span class="empty-mark">☐</span>
                    <span class="check-mark">✓</span>
                </span>
            </div>

            <div class="activity lunch">
                <span class="time">12:00 – 2:00 ظهراً</span>
                <span>🍽️ غداء + صلاة + راحة</span>
                <span class="checkbox" data-index="6" data-type="lunch">
                    <span class="empty-mark">☐</span>
                    <span class="check-mark">✓</span>
                </span>
            </div>

            <div class="activity lecture">
                <span class="time">2:00 – 3:00 مساءً</span>
                <span>📚 محاضرة 5</span>
                <span class="checkbox" data-index="7" data-type="lecture">
                    <span class="empty-mark">☐</span>
                    <span class="check-mark">✓</span>
                </span>
            </div>

            <div class="activity lecture">
                <span class="time">3:00 – 4:00 مساءً</span>
                <span>📚 محاضرة 6</span>
                <span class="checkbox" data-index="8" data-type="lecture">
                    <span class="empty-mark">☐</span>
                    <span class="check-mark">✓</span>
                </span>
            </div>

            <div class="activity memorization">
                <span class="time">4:00 – 5:00 مساءً</span>
                <span>📖 حفظ</span>
                <span class="checkbox" data-index="9" data-type="memorization">
                    <span class="empty-mark">☐</span>
                    <span class="check-mark">✓</span>
                </span>
            </div>

            <div class="activity summary">
                <span class="time">5:00 – 6:00 مساءً</span>
                <span>📝 كتابة ملخص + مراجعة</span>
                <span class="checkbox" data-index="10" data-type="summary">
                    <span class="empty-mark">☐</span>
                    <span class="check-mark">✓</span>
                </span>
            </div>
        </div>

        <div class="footer">
            <div>✨ جدولي - مدير المهام اليومي الذكي <span class="status-indicator"></span></div>
            <div>© 2024 - جميع الحقوق محفوظة</div>
        </div>
    </div>

    <script>
        // دالة للحصول على مفتاح التخزين للتاريخ الحالي
        function getStorageKey() {
            const today = new Date();
            const dateKey = today.toISOString().split('T')[0]; // YYYY-MM-DD
            return `daily_schedule_${dateKey}`;
        }

        // تحميل البيانات من التخزين المؤقت للجلسة
        function loadSessionData() {
            const sessionData = sessionStorage.getItem('checkboxes_state');
            if (sessionData) {
                try {
                    return JSON.parse(sessionData);
                } catch (e) {
                    return Array(11).fill(false);
                }
            }
            return Array(11).fill(false);
        }

        // حفظ البيانات في التخزين المؤقت للجلسة
        function saveSessionData(checkboxesState) {
            sessionStorage.setItem('checkboxes_state', JSON.stringify(checkboxesState));
        }

        // تحقق من تغيير اليوم
        function checkDayChange() {
            const currentKey = getStorageKey();
            const savedDay = localStorage.getItem('current_day_key');
            
            if (savedDay !== currentKey) {
                // يوم جديد - مسح البيانات وبدء من الصفر
                localStorage.setItem('current_day_key', currentKey);
                sessionStorage.removeItem('checkboxes_state');
                return true;
            }
            return false;
        }

        // إضافة مستمعي الأحداث عند تحميل الصفحة
        document.addEventListener('DOMContentLoaded', function() {
            // التحقق من تغيير اليوم
            if (checkDayChange()) {
                console.log('يوم جديد - بدء من الصفر');
            }
            
            // تحميل حالة المربعات من التخزين المؤقت للجلسة
            let checkboxesState = loadSessionData();
            
            // استعادة حالة المربعات
            const checkboxes = document.querySelectorAll('.checkbox');
            checkboxes.forEach((checkbox, index) => {
                if (checkboxesState[index]) {
                    checkbox.classList.add('checked');
                }
                
                // إضافة مستمع النقر
                checkbox.addEventListener('click', function() {
                    toggleCheckbox(this);
                });
            });
            
            // تحديث الإحصائيات
            updateStats();
            
            // تحديث الوقت
            updateTime();
            setInterval(updateTime, 60000); // تحديث كل دقيقة
            
            // التحقق من تغيير اليوم كل 5 دقائق
            setInterval(function() {
                if (checkDayChange()) {
                    location.reload(); // إعادة تحميل الصفحة إذا تغير اليوم
                }
            }, 300000); // تحقق كل 5 دقائق
        });

        // دالة تبديل حالة المربع
        function toggleCheckbox(element) {
            const index = parseInt(element.dataset.index);
            element.classList.toggle('checked');
            
            // تحديث حالة المربعات وحفظها
            const checkboxes = document.querySelectorAll('.checkbox');
            let checkboxesState = Array(11).fill(false);
            checkboxes.forEach((checkbox, i) => {
                checkboxesState[i] = checkbox.classList.contains('checked');
            });
            
            // حفظ في التخزين المؤقت للجلسة
            saveSessionData(checkboxesState);
            
            updateStats();
        }

        // تحديث الإحصائيات
        function updateStats() {
            // حساب عدد المربعات المحددة
            const checkboxes = document.querySelectorAll('.checkbox');
            const checkedCount = document.querySelectorAll('.checkbox.checked').length;
            
            // حساب المحاضرات المكتملة (المربعات 0,1,3,4,7,8)
            const lectureCheckboxes = [0, 1, 3, 4, 7, 8];
            let lectureCompleted = 0;
            lectureCheckboxes.forEach(index => {
                if (checkboxes[index] && checkboxes[index].classList.contains('checked')) {
                    lectureCompleted++;
                }
            });
            
            // حساب الملخصات المكتملة (المربعات 5,10)
            const summaryCheckboxes = [5, 10];
            let summaryCompleted = 0;
            summaryCheckboxes.forEach(index => {
                if (checkboxes[index] && checkboxes[index].classList.contains('checked')) {
                    summaryCompleted++;
                }
            });
            
            // تحديث الجدول
            document.getElementById('completed-lectures').textContent = lectureCompleted;
            document.getElementById('lectures-percentage').textContent = Math.round((lectureCompleted / 7) * 100) + '%';
            
            document.getElementById('completed-summaries').textContent = summaryCompleted;
            document.getElementById('summaries-percentage').textContent = Math.round((summaryCompleted / 2) * 100) + '%';
            
            document.getElementById('completed-activities').textContent = checkedCount;
            document.getElementById('activities-percentage').textContent = Math.round((checkedCount / 11) * 100) + '%';
            
            // تحديث شريط التقدم
            const percentage = Math.round((checkedCount / 11) * 100);
            document.getElementById('progress-bar').style.width = percentage + '%';
            document.getElementById('commitment-percentage').textContent = percentage + '%';
            
            // تحديث التقييم
            updateEvaluation(percentage);
        }

        // تحديث التقييم
        function updateEvaluation(percentage) {
            let commitment, productivity, result;
            
            if (percentage >= 90) {
                commitment = 'ممتاز (100%) ✨';
                productivity = 'قصوى 🚀';
                result = 'يوم ذهبي 🌟';
            } else if (percentage >= 70) {
                commitment = 'جيد جداً (70-89%) 🌟';
                productivity = 'عالية 🔥';
                result = 'يوم ممتاز 🎉';
            } else if (percentage >= 50) {
                commitment = 'جيد (50-69%) 👍';
                productivity = 'متوسطة ⚡';
                result = 'يوم جيد 💪';
            } else if (percentage >= 20) {
                commitment = 'مقبول (20-49%) 📈';
                productivity = 'متدنية 🌱';
                result = 'يوم عادي ☀️';
            } else {
                commitment = 'ضعيف (<20%) 📉';
                productivity = 'منخفضة 🌙';
                result = 'يوم بطيء 🐢';
            }
            
            document.getElementById('commitment-rating').textContent = commitment;
            document.getElementById('productivity-rating').textContent = productivity;
            document.getElementById('result-rating').textContent = result;
        }

        // تحديث الوقت والتاريخ
        function updateTime() {
            const now = new Date();
            const hours = now.getHours();
            const minutes = now.getMinutes().toString().padStart(2, '0');
            
            let period = 'صباحاً';
            let displayHours = hours;
            
            if (hours >= 12) {
                period = 'مساءً';
                if (hours > 12) displayHours = hours - 12;
            }
            
            if (hours === 0) displayHours = 12;
            
            // تحديث التاريخ والوقت
            const arabicDays = ['الأحد', 'الاثنين', 'الثلاثاء', 'الأربعاء', 'الخميس', 'الجمعة', 'السبت'];
            const arabicMonths = ['يناير', 'فبراير', 'مارس', 'أبريل', 'مايو', 'يونيو', 'يوليو', 'أغسطس', 'سبتمبر', 'أكتوبر', 'نوفمبر', 'ديسمبر'];
            const dayName = arabicDays[now.getDay()];
            const day = now.getDate();
            const monthName = arabicMonths[now.getMonth()];
            const year = now.getFullYear();
            const dateString = `${dayName} ${day} ${monthName} ${year}`;
            
            document.getElementById('current-date-time').innerHTML = 
                `📅 ${dateString} | ⏰ ${displayHours}:${minutes} ${period}`;
        }

        // منع التحديد النصي عند النقر المزدوج
        document.addEventListener('selectstart', function(e) {
            if (e.target.closest('.checkbox')) {
                e.preventDefault();
            }
        });
    </script>
</body>
</html>